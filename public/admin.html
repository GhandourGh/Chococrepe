<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#000000">
  <title>Choco Crepe Admin</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../styles.min.css">
</head>
<body>
  <header class="admin-header">
    <img src="assets/logo.png" alt="Choco Crepe Logo" class="admin-logo">
    <h1 class="admin-title">Choco Crepe Admin</h1>
    <button id="logoutBtn" class="logout-btn" style="display:none;"><i class='bx bx-log-out'></i> Logout</button>
  </header>
  <main>
    <section id="loginSection" class="admin-section">
      <form id="loginForm" class="admin-form">
        <h2>Admin Login</h2>
        <input type="email" id="adminEmail" placeholder="Email" required>
        <div class="password-field">
          <input type="password" id="adminPassword" placeholder="Password" required>
          <button type="button" id="passwordToggle" class="password-toggle">
            <i class='bx bx-hide'></i>
          </button>
        </div>
        <button type="submit">Login</button>
      </form>
    </section>
    <section id="dashboardSection" class="admin-section" style="display:none;">
      <form id="addItemForm" class="admin-form">
        <h2>Add Menu Item</h2>
        <input type="text" id="itemName" placeholder="Name" required>
        <textarea id="itemDesc" placeholder="Description (optional)"></textarea>
        <input type="number" id="itemPrice" placeholder="Price" step="0.01" min="0" required>
        <select id="itemCategory" required>
          <option value="">Select Category</option>
          <option value="Desserts">Desserts</option>
          <option value="Crepes">Crepes</option>
          <option value="Cups">Cups</option>
          <option value="Sticks">Sticks</option>
          <option value="Ice Cream">Ice Cream</option>
          <option value="Drinks">Drinks</option>
          <option value="Add-ons">Add-ons</option>
          <option value="Shisha">Shisha</option>
        </select>
        <div id="subcategoryField" style="display: none;">
          <select id="subcategorySelect" name="subcategory">
            <option value="">Select Subcategory</option>
          </select>
        </div>
        <input type="file" id="itemImage" accept="image/*" required>
        <button type="submit">Add Item</button>
      </form>
      <div class="admin-table-controls">
        <label for="filterCategory">Filter by Category:</label>
        <select id="filterCategory">
          <option value="all">All</option>
          <option value="Desserts">Desserts</option>
          <option value="Crepes">Crepes</option>
          <option value="Cups">Cups</option>
          <option value="Sticks">Sticks</option>
          <option value="Ice Cream">Ice Cream</option>
          <option value="Drinks">Drinks</option>
          <option value="Add-ons">Add-ons</option>
          <option value="Shisha">Shisha</option>
        </select>
      </div>
      <table class="admin-table" id="itemsTable">
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            
            <th>Category</th>
            <th>Price</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Menu items will be rendered here by admin.js -->
        </tbody>
      </table>
    </section>
  </main>
  <div id="adminModal" class="modal" style="display:none;"></div>
  <script src="https://cdn.jsdelivr.net/npm/browser-image-compression/dist/browser-image-compression.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.7/dist/umd/supabase.min.js"></script>
  <script src="admin.js" defer></script>
</body>
</html>
